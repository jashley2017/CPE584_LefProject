digraph parseLEF {
    ordering=out;
    size="12,8";
    ratio=fill;
    rankdir=TB;
    style="invis";    
    concentrate=true;
    

    node [fontname=Helvetica shape=record];

    ###
    ###
    ###

    subgraph cluster {
        rankdir=TB;

        LEGEND [label="{Legend|Logically Checked\nRecognition Only\nMissing Check}"];

        START [label="Start" shape=oval peripheries=1];
        SKIP_LINES [
            shape=plaintext
            label=<
                <table border="0" cellborder="1">
                    <tr>
                        <td colspan="3">Locate keyword in LEF</td>
                    </tr>
                    <tr>
                        <td port='prop'>PROPERTYDEFINITIONS</td>
                        <td port='macro'>MACRO</td>
                        <td port='end'>END LIBRARY</td>
                    </tr>
                </table>
            >
        ];
        # PROPERTYDEFINITIONS
        P_READ_LINE [label="Record property"];

        START
        -> SKIP_LINES;

        SKIP_LINES:prop
        -> P_READ_LINE
        -> SKIP_LINES;

        # MACRO
        SKIP_LINES:macro
        -> M_SKIP_LINES;        

            M_SKIP_LINES [
                shape=plaintext
                label=<
                    <table border="0" cellborder="1">
                        <tr>
                            <td colspan="4">Locate keyword in Macro</td>
                        </tr>
                        <tr>
                            <td port='prop'>PROPERTY</td>
                            <td port='pin'>PIN</td>
                            <td port='layer'>LAYER</td>
                            <td port='end'>END</td>
                        </tr>
                    </table>
                >
            ];
            # Property
            M_PROP_RECORD [label="{Record property|ORIGIN\nFOREIGN\nCLASS\nSIZE\nSYMMETRY\nSITE}"];

            M_SKIP_LINES:prop
            -> M_PROP_RECORD
            -> M_SKIP_LINES:prop;
            # Pin
            M_SKIP_LINES:pin
            -> PIN_SKIP_LINES;

                PIN_SKIP_LINES [
                    shape=plaintext
                    label=<
                        <table border="0" cellborder="1">
                            <tr>
                                <td colspan="3">Locate keywords in Pin</td>
                            </tr>
                            <tr>
                                <td port='port'>PORT</td>
                                <td port='layer'>LAYER</td>
                                <td port='end'>END</td>
                            </tr>
                        </table>
                    >
                ];
                # Port
                PIN_PROP [label="{Record property|TAPERRULE\nDIRECTION\nUSE\nNETEXPR\nSUPPLYSENSITIVITY\nGROUNDSENSITIVITY\nSHAPE\nMUSTJOIN\nANTENNAPARTIALMETALAREA\nANTENNAPARTIALMETALSIDEAREA\nANTENNAPARTIALCUTAREA\nANTENNADIFFAREA\nANTENNAMODEL\nANTENNAGATEAREA\nANTENNAMAXAREACAR\nANTENNAMAXSIDEAREACAR\nANTENNAMAXCUTCAR}"]
                PIN_SKIP_LINES:port
                -> PIN_PROP
                -> PIN_SKIP_LINES:port;

                # Layer
                PIN_LAYER [label="{Record Layer| Sourced from TLEF}"];
                PIN_SKIP_LINES:layer
                -> PIN_LAYER
                -> PIN_SKIP_LINES:layer;

                # End Pin
                PIN_SKIP_LINES:end
                -> M_SKIP_LINES;
            # Layer
            CELL_LAYER [label="{Record Layer| Sourced from TLEF}"];
            M_SKIP_LINES:layer
            -> CELL_LAYER
            -> M_SKIP_LINES:layer;

            # End Cell
            M_SKIP_LINES:end
            -> SKIP_LINES;
        # End LEF
        { rank=same; START; LEF_EXIT;}
        LEF_EXIT [label="Finished" shape=oval peripheries=2];

        SKIP_LINES:end
        -> LEF_EXIT;
    }
    
}